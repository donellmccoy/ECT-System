<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="ALOD.Core"
                   namespace="ALOD.Core.Domain.Common">

	<class name="TrackingItem" table="core_logAction">
		<id name="Id" column="logId">
			<generator class="identity" />
		</id>
		<property name="ActionDate" column="actionDate" />
		<property name="Notes" column="notes" />
		<property name="ActionId" column="actionId" />
		<property name="UserId" column="userId" />
		<property name="ModuleType" column="moduleId" />
		<property name="ParentId" column="referenceId" />

		<property name="ActionName" insert="false" update="false" />
		<property name="Description" insert="false" update="false" />
		<property name="LogChanges" insert="false" update="false" />
		<property name="LastName" insert="false" update="false" />
	</class>

	<sql-query name="GetTrackingByRefId">
		<return class="TrackingItem" />
		exec dbo.core_tracking_sp_GetByReferenceId :moduleId, :referenceId, :showAll
	</sql-query>
</hibernate-mapping>